<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Referência da API - Trace Point</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo"><h1>Trace Point API</h1></div>
        <button class="hamburger-menu" id="hamburgerMenu" aria-label="Toggle navigation" aria-expanded="false">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
        <div class="nav-links" id="navLinks">
            <div class="sidebar-header">
                <h1>Trace Point API</h1>
            </div>
            <ul>
                <li><a href="index.html">Visão Geral</a></li>
                <li><a href="instalacao.html">Instalação</a></li>
                <li><a href="autenticacao_usuarios.html">Usuários & Acesso</a></li>
                <li><a href="api_referencia.html">API Referência</a></li>
                <li><a href="estrutura_projeto.html">Projeto & DER</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <header class="page-header">
            <h1 class="project-title">7. Endpoints da API</h1>
        </header>

        <section id="auth-endpoints">
            <h3>7.1. Autenticação (<code>/auth</code>)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Método</th>
                        <th>Rota</th>
                        <th>Proteção JWT</th>
                        <th>Descrição</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>POST</code></td>
                        <td><code>/auth/login</code></td>
                        <td>Não</td>
                        <td>Login de usuário.</td>
                    </tr>
                    <tr>
                        <td><code>POST</code></td>
                        <td><code>/auth/refresh</code></td>
                        <td>Não </td>
                        <td>Atualização de token. </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="user-endpoints">
            <h3>7.2. Usuários (<code>/user</code>)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Método</th>
                        <th>Rota</th>
                        <th>Proteção JWT</th>
                        <th>Acesso</th>
                        </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>POST</code></td>
                        <td><code>/user/register</code></td>
                        <td>Não </td>
                        <td>Público </td>
                    </tr>
                    <tr>
                        <td><code>POST</code></td>
                        <td><code>/user/booking</code></td>
                        <td>Sim</td>
                        <td>Visitor, Organizer, Admin </td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/user/</code></td>
                        <td>Sim</td>
                        <td>Admin </td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/user/:id</code></td>
                        <td>Sim</td>
                        <td>Admin </td>
                    </tr>
                    <tr>
                        <td><code>PUT</code></td>
                        <td><code>/user/:id</code></td>
                        <td>Sim</td>
                        <td>Todos (restrito ao próprio usuário ou Admin) </td>
                    </tr>
                    <tr>
                        <td><code>DELETE</code></td>
                        <td><code>/user/:id</code></td>
                        <td>Sim </td>
                        <td>Admin </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="place-endpoints">
            <h3>7.3. Locais (<code>/place</code>) </h3>
            <table>
                <thead>
                    <tr>
                        <th>Método</th>
                        <th>Rota</th>
                        <th>Proteção JWT</th>
                        <th>Acesso</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>POST</code></td>
                        <td><code>/place/</code></td>
                        <td>Sim</td>
                        <td>Organizer, Admin </td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/place/</code></td>
                        <td>Sim </td>
                        <td>Todos </td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/place/:id</code></td>
                        <td>Sim </td>
                        <td>Todos </td>
                    </tr>
                    <tr>
                        <td><code>PUT</code></td>
                        <td><code>/place/:id</code></td>
                        <td>Sim</td>
                        <td>Organizer, Admin </td>
                    </tr>
                    <tr>
                        <td><code>DELETE</code></td>
                        <td><code>/place/:id</code></td>
                        <td>Sim </td>
                        <td>Admin </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="event-endpoints">
            <h3>7.4. Eventos (<code>/event</code>) </h3>
            <table>
                <thead>
                    <tr>
                        <th>Método</th>
                        <th>Rota</th>
                        <th>Proteção JWT</th>
                        <th>Acesso</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>POST</code></td>
                        <td><code>/event/</code></td>
                        <td>Sim</td>
                        <td>Organizer, Admin</td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/event/</code></td>
                        <td>Sim </td>
                        <td>Todos </td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/event/:id</code></td>
                        <td>Sim </td>
                        <td>Todos </td>
                    </tr>
                    <tr>
                        <td><code>PUT</code></td>
                        <td><code>/event/:id</code></td>
                        <td>Sim</td>
                        <td>Organizer, Admin </td>
                    </tr>
                    <tr>
                        <td><code>DELETE</code></td>
                        <td><code>/event/:id</code></td>
                        <td>Sim </td>
                        <td>Organizer, Admin </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="visited-endpoints">
            <h3>7.5. Visitas Realizadas (<code>/visited</code>)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Método</th>
                        <th>Rota</th>
                        <th>Proteção JWT</th>
                        <th>Acesso</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>POST</code></td>
                        <td><code>/visited/</code></td>
                        <td>Sim </td>
                        <td>Todos </td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/visited/</code></td>
                        <td>Sim </td>
                        <td>Todos (Admin vê tudo) </td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/visited/user/:id</code></td>
                        <td>Sim </td>
                        <td>Visitor/Admin/Organizer </td>
                    </tr>
                    <tr>
                        <td><code>GET</code></td>
                        <td><code>/visited/place/:id</code></td>
                        <td>Sim </td>
                        <td>Todos </td>
                    </tr>
                    <tr>
                        <td><code>PUT</code></td>
                        <td><code>/visited/</code></td>
                        <td>Sim </td>
                        <td>Todos</td>
                    </tr>
                    <tr>
                        <td><code>DELETE</code></td>
                        <td><code>/visited/</code></td>
                        <td>Sim </td>
                        <td>Organizer, Admin </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="exemplos-requisicoes">
            <h2>8. Exemplos de Requisição</h2>
            <h3>8.1. Criar Local</h3>
            <pre><code>POST /place
Content-Type: application/json

{
  "name": "Estação das Docas",
  "type": "cultural",
  "address": {
    "postalColde": "66010-020", 
    "street": "Av. Boulevard Castilhos França",
    "numberHouse": 600,
    "complement": "Armazém 2"
  }
}</code></pre>

            <h3>8.2. Criar Evento </h3>
            <pre><code>POST /event
Content-Type: application/json

{
  "title": "Tour COP-30",
  "eventDate": "2025-07-15T14:00:00.000Z",
  "description": "Tour pelo centro histórico de Belém.",
  "place": "UUID-do-place"
}</code></pre>

            <h3>8.3. Agendar Visita </h3>
            <pre><code>POST /user/booking
Content-Type: application/json

{
  "eventId": "UUID-event",
  "userId": "UUID-user"
}</code></pre>

            <h3>8.4. Registrar Visita</h3>
            <pre><code>POST /visited
Content-Type: application/json

{
  "userId": "UUID-user",
  "placeId": "UUID-place",
  "visitDate": "2025-05-24T10:30:00.000Z"
}</code></pre>
        </section>

        <hr class="section-divider">

        <section id="navegacao">
            <h2>Navegue pela Documentação</h2>
            <p>Veja a estrutura do projeto e o DER, ou retorne à visão geral:</p>
            <p style="text-align: center; margin-top: 25px;">
                <a href="index.html" class="button-link">Voltar para Visão Geral</a>
                <a href="estrutura_projeto.html" class="button-link">Estrutura do Projeto e DER</a>
                <a href="autenticacao_usuarios.html" class="button-link">Usuários e Autenticação</a>
            </p>
        </section>

        <footer>
            <p>Trace Point API &copy; 2025</p>
            <p><a href="https://github.com/vyctor-carvalho/Trace_Point" target="_blank" rel="noopener noreferrer">Ver Projeto no GitHub</a></p>
        </footer>

        <script src="script.js"></script>

    </div>
</body>
</html>