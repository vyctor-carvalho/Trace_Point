<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usuários e Autenticação - Trace Point API</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo"><h1>Trace Point API</h1></div>
        <button class="hamburger-menu" id="hamburgerMenu" aria-label="Toggle navigation" aria-expanded="false">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
        <div class="nav-links" id="navLinks">
            <div class="sidebar-header">
                <h1>Trace Point API</h1>
            </div>
            <ul>
                <li><a href="index.html">Visão Geral</a></li>
                <li><a href="instalacao.html">Instalação</a></li>
                <li><a href="autenticacao_usuarios.html" class="active">Usuários & Acesso</a></li>
                <li><a href="api_referencia.html">API Referência</a></li>
                <li><a href="estrutura_projeto.html">Projeto & DER</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <header class="page-header">
            <h1 class="project-title">Níveis de Acesso, Autenticação e Usuários</h1>
        </header>

        <section id="niveis-acesso">
            <h2><span class="section-number">6.</span> Níveis de Acesso e Autenticação</h2>
            <p>A autenticação na API é realizada via JSON Web Tokens (JWT), enviados no cabeçalho <code>Authorization</code> como <code>Bearer Token</code>.</p>
            <p>Existem os seguintes níveis de acesso:</p>
            <ul>
                <li><strong>Visitor:</strong> Acesso básico, permitindo visualização de informações e agendamento de visitas.</li>
                <li><strong>Organizer:</strong> Além das permissões de Visitor, pode criar e gerenciar seus próprios eventos e locais.</li>
                <li><strong>Admin:</strong> Acesso total a todas as funcionalidades da API, incluindo gerenciamento de todos os dados e usuários.</li>
                <li><strong>Público:</strong> Rotas que não requerem autenticação, como login e registro de novos usuários. </li>
            </ul>
        </section>

        <hr class="section-divider">

        <section id="criacao-usuarios">
            <h2><span class="section-number">6.1.</span> Criação de Usuários</h2>
            
            <h3>Usuário Administrador Padrão (Admin)</h3>
            <p>Para facilitar o primeiro acesso, configuração inicial e testes da API, você pode inserir um usuário administrador padrão diretamente no banco de dados. Execute o seguinte comando SQL utilizando uma ferramenta de gerenciamento PostgreSQL (como o pgAdmin):</p>
            <pre><code>INSERT INTO "user" (
  id, name, profile_pick, role, email, "password"
) VALUES (
  '9dfce170-5094-436f-9413-f5afc769a75e',
  'Admin User',
  'https://l1nq.com/icone-de-perfil-de-avatar-padrao',
  'admin',
  'admin@example.com',
  '$2b$10$yG9D2ihkLL6hTh5KCw/l5.BqAqJ3i49GIvksxCBStGSMEJtTHS2ey' -- Senha: admin123
);</code></pre>
            <p>
                Este comando criará um usuário com as seguintes credenciais prontas para uso:
                <ul>
                    <li><strong>Email para login:</strong> <code>admin@example.com</code></li>
                    <li><strong>Senha para login:</strong> <code>admin123</code></li>
                    <li><strong>Nível de acesso (Role):</strong> <code>admin</code></li>
                    <li><strong>ID do Usuário:</strong> <code>9dfce170-5094-436f-9413-f5afc769a75e</code></li>
                </ul>
            </p>
            <p><strong>Importante:</strong> Por questões de segurança, é altamente recomendável que você altere a senha deste usuário padrão assim que possível, especialmente se estiver configurando um ambiente de homologação ou produção.</p>

            <h3>Visitor / Organizer</h3>
            <p>Visitantes e Organizadores podem se registrar de forma independente através do endpoint público da API:</p>
            <pre><code>POST /user/register
Content-Type: application/json

{
  "name": "Nome do Usuário",
  "userLogin": { 
    "email": "usuario@example.com", 
    "password": "senhaSegura123" 
  },
  "profilePick": "https://example.com/foto.jpg",
  "role": "visitor"  // ou "organizer"
}</code></pre>
            <p>Este endpoint permite que novos usuários criem suas contas e comecem a interagir com a plataforma de acordo com o papel (<code>role</code>) especificado.</p>
        </section>

        <hr class="section-divider">

        <section id="navegacao">
            <p style="text-align: center; margin-top: 25px;">
                <a href="index.html" class="button-link">Voltar para Visão Geral</a>
                <a href="api_referencia.html" class="button-link">Referência da API</a>
                <a href="instalacao.html" class="button-link">Guia de Instalação</a>
            </p>
        </section>

        <footer>
            <p>Trace Point API &copy; 2025</p>
            <p><a href="https://github.com/vyctor-carvalho/Trace_Point" target="_blank" rel="noopener noreferrer">Ver Projeto no GitHub</a></p>
        </footer>
    </div>
    {/* Mantenha o seu script aqui, por exemplo: <script src="js/main.js" defer></script> ou <script src="script.js" defer></script> */}
    <script src="script.js" defer></script> 
</body>
</html>